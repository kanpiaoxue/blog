#单例模式
###发表时间：2021-01-14
###分类：java,经验
###iteye原始地址：<a href="https://kanpiaoxue.iteye.com/admin/blogs/2518682" target="_blank">https://kanpiaoxue.iteye.com/admin/blogs/2518682</a>

---

<div class="iteye-blog-content-contain" style="font-size: 14px;"> 
 <p>&nbsp;</p> 
 <p>参考资料：<a href="https://dzone.com/articles/singleton-design-pattern-1?edition=647305&amp;utm_medium=email&amp;utm_source=dzone&amp;utm_content=2021%20Trends%20and%20Predictions&amp;utm_campaign=">&nbsp;https://dzone.com/articles/singleton-design-pattern-1?edition=647305&amp;utm_medium=email&amp;utm_source=dzone&amp;utm_content=2021%20Trends%20and%20Predictions&amp;utm_campaign=</a></p> 
 <p>&nbsp;</p> 
 <p>&nbsp;</p> 
 <p>&nbsp;</p> 
 <h2 style=""><strong style="">The Singleton Pattern</strong></h2> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">The singleton pattern is one of the simplest design patterns in Java. This design pattern is considered a creational pattern, as this pattern provides one of the best ways to create an object.</p> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">Sometimes it’s important for some classes to have exactly one instance. There are many times when we only need one instance of an object and if we instantiate more than one we’ll run into all sorts of problems, like incorrect program behavior, overuse of resources, or inconsistent results. You may require only one object of a class, for example, when you are creating:</p> 
 <ul style="margin-bottom: 10px; color: #222635; font-family: Cambria, serif; font-size: 19px;"> 
  <li style="padding-bottom: 8px;">the context of an application.</li> 
  <li style="padding-bottom: 8px;">a thread manageable pool.</li> 
  <li style="padding-bottom: 8px;">registry settings.</li> 
  <li style="padding-bottom: 8px;">a driver to connect to the input or output console.</li> 
  <li style="padding-bottom: 8px;">and much more.</li> 
 </ul> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">More than one object of that type clearly will cause inconsistency to our code.</p> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">The singleton pattern ensures that a class has only one instance and provides a global point of access to it. Although a singleton is the simplest in terms of its class diagram, because there is only one single class, its implementation is a bit trickier.</p> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;"><img class="fr-fic fr-dib lazyloaded" style="vertical-align: middle; max-width: 100%; height: auto; text-align: center; margin: auto; display: block; width: 300px; float: none !important;" src="https://dzone.com/storage/temp/14309004-singleton-uml.png" alt=""></p> 
 <h2 style="">Motivation</h2> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">Sometimes it's important to have only one instance for a class. For example, in a system there should be only one window manager or only one print spooler. Usually, singletons are used for centralized management of internal or external resources and they provide a global point of access to themselves.</p> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">The singleton pattern involves only one class which is required to instantiate itself and to make sure it creates no more than one instance.</p> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">At the same time, it provides a global point of access to that instance. In this case, the same instance can be accessed from anywhere, making it impossible to directly invoke the constructor each time.</p> 
 <h3 style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 1.2; color: #222635; margin-top: 20px; margin-bottom: 5px; font-size: 25px; clear: both;"><strong style="">How to Create a Class Using the Singleton Pattern</strong></h3> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">While there are many ways to create such a class, we will take a look the methods that have worked for me in the past.</p> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">Let’s start with a simple way. What if we provide a global variable that makes an object accessible? For example:&nbsp;</p> 
 <div class="codeMirror-wrapper newest" style="color: #222635; font-family: Cambria, serif; font-size: 19px;"> 
  <div style=""> 
   <div class="codeHeader" style="padding: 0px 15px; font-family: sans-serif; font-size: 14px; background-color: #f7f7f7; color: #999999;"> 
    <div class="nameLanguage" style="">
     Java
    </div> 
   </div> 
   <div class="codeMirror-code--wrapper" style=""> 
    <div class="CodeMirror cm-s-default CodeMirror-wrap" style="border: none; font-family: monospace; color: black; overflow: hidden; font-size: 13px; clear: both; height: auto !important;"> 
     <div style="overflow: hidden; width: 3px; height: 0px;">
      &nbsp;
     </div> 
     <div class="CodeMirror-scroll" style=""> 
      <div class="CodeMirror-sizer" style=""> 
       <div style=""> 
        <div class="CodeMirror-lines" style="padding: 4px 0px; cursor: text;"> 
         <div style=""> 
          <div class="CodeMirror-measure" style="width: 1452px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div class="CodeMirror-measure" style="width: 1452px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-cursors" style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-code" style=""> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              1
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">package</span> <span class="cm-def" style="color: #0000ff;">com</span>.<span class="cm-variable" style="">singleton</span>.<span class="cm-variable" style="">demonstration</span>; </span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              2
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              3
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">class</span> <span class="cm-def" style="color: #0000ff;">SingletonEager</span> { </span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              4
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">static</span> <span class="cm-variable" style="">SingletonEager</span> <span class="cm-variable" style="">sc</span> <span class="cm-operator" style="">=</span> <span class="cm-keyword" style="color: #770088;">new</span> <span class="cm-variable" style="">SingletonEager</span>(); </span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              5
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div style="height: 15px; width: 1px; border-bottom: 0px solid transparent;">
       &nbsp;
      </div> 
      <div class="CodeMirror-gutters" style="border-right: 1px solid #dddddd; background-color: #f7f7f7; white-space: nowrap; height: 138px; width: 30px !important;"> 
       <div class="CodeMirror-gutter CodeMirror-linenumbers" style="">
        &nbsp;
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
 </div> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">As we know, there is only one copy of the static variables of a class; we can apply this. As far as the client code using this&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">sc</code>&nbsp;static variable... it's fine. But, if the client uses a new operator there would be a new instance of this class. To stop the class from getting instantiated outside the class, let’s make the constructor of the class private.&nbsp;</p> 
 <div class="codeMirror-wrapper" style="color: #222635; font-family: Cambria, serif; font-size: 19px;"> 
  <div style=""> 
   <div class="codeHeader" style="padding: 0px 15px; font-family: sans-serif; font-size: 14px; background-color: #f7f7f7; color: #999999;"> 
    <div class="nameLanguage" style="">
     Java
    </div> 
   </div> 
   <div class="codeMirror-code--wrapper" style=""> 
    <div class="CodeMirror cm-s-default CodeMirror-wrap" style="border: none; font-family: monospace; color: black; overflow: hidden; font-size: 13px; clear: both; height: auto !important;"> 
     <div style="overflow: hidden; width: 3px; height: 0px;">
      &nbsp;
     </div> 
     <div class="CodeMirror-scroll" style=""> 
      <div class="CodeMirror-sizer" style=""> 
       <div style=""> 
        <div class="CodeMirror-lines" style="padding: 4px 0px; cursor: text;"> 
         <div style=""> 
          <div class="CodeMirror-measure" style="width: 1454px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div class="CodeMirror-measure" style="width: 1454px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-cursors" style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-code" style=""> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              1
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">package</span> <span class="cm-def" style="color: #0000ff;">com</span>.<span class="cm-variable" style="">singleton</span>.<span class="cm-variable" style="">demonstration</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              2
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              3
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              4
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">class</span> <span class="cm-def" style="color: #0000ff;">SingletonEager</span> {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              5
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">static</span> <span class="cm-variable" style="">SingletonEager</span> <span class="cm-variable" style="">sc</span> <span class="cm-operator" style="">=</span> <span class="cm-keyword" style="color: #770088;">new</span> <span class="cm-variable" style="">SingletonEager</span>();</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              6
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              7
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              8
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">private</span> <span class="cm-variable" style="">SingletonEager</span>() {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              9
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              10
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div style="height: 13px; width: 1px; border-bottom: 0px solid transparent;">
       &nbsp;
      </div> 
      <div class="CodeMirror-gutters" style="border-right: 1px solid #dddddd; background-color: #f7f7f7; white-space: nowrap; height: 251px; width: 30px !important;"> 
       <div class="CodeMirror-gutter CodeMirror-linenumbers" style="">
        &nbsp;
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
 </div> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">Is this going to work? I believe so. By keeping the constructor private, no other class can instantiate this class. The only way to get the object of this class is by using the&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">sc</code>&nbsp;static variable, which ensures only one object is there. But, as we know, providing direct access to a class member is not a good idea. We will provide a method through which the&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">sc</code>&nbsp;variable will get access, but not directly. &nbsp;</p> 
 <div class="codeMirror-wrapper newest" style="color: #222635; font-family: Cambria, serif; font-size: 19px;"> 
  <div style=""> 
   <div class="codeHeader" style="padding: 0px 15px; font-family: sans-serif; font-size: 14px; background-color: #f7f7f7; color: #999999;"> 
    <div class="nameLanguage" style="">
     Java
    </div> 
   </div> 
   <div class="codeMirror-code--wrapper" style=""> 
    <div class="CodeMirror cm-s-default CodeMirror-wrap" style="border: none; font-family: monospace; color: black; overflow: hidden; font-size: 13px; clear: both; height: auto !important;"> 
     <div style="overflow: hidden; width: 3px; height: 0px;">
      &nbsp;
     </div> 
     <div class="CodeMirror-scroll" style=""> 
      <div class="CodeMirror-sizer" style=""> 
       <div style=""> 
        <div class="CodeMirror-lines" style="padding: 4px 0px; cursor: text;"> 
         <div style=""> 
          <div class="CodeMirror-measure" style="width: 1452px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div class="CodeMirror-measure" style="width: 1452px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-cursors" style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-code" style=""> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              1
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">package</span> <span class="cm-def" style="color: #0000ff;">com</span>.<span class="cm-variable" style="">singleton</span>.<span class="cm-variable" style="">demonstration</span>; </span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              2
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              3
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              4
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">class</span> <span class="cm-def" style="color: #0000ff;">SingletonEager</span> {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              5
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">private</span> <span class="cm-keyword" style="color: #770088;">static</span> <span class="cm-variable" style="">SingletonEager</span> <span class="cm-variable" style="">sc</span> <span class="cm-operator" style="">=</span> <span class="cm-keyword" style="color: #770088;">new</span> <span class="cm-variable" style="">SingletonEager</span>(); </span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              6
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">private</span> <span class="cm-variable" style="">SingletonEager</span>(){} </span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              7
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">static</span> <span class="cm-variable" style="">SingletonEager</span> <span class="cm-variable" style="">getInstance</span>()</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              8
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  { </span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              9
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  <span class="cm-keyword" style="color: #770088;">return</span> <span class="cm-variable" style="">sc</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              10
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"> &nbsp;  } </span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              11
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"> } </span></pre> 
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div style="height: 15px; width: 1px; border-bottom: 0px solid transparent;">
       &nbsp;
      </div> 
      <div class="CodeMirror-gutters" style="border-right: 1px solid #dddddd; background-color: #f7f7f7; white-space: nowrap; height: 276px; width: 30px !important;"> 
       <div class="CodeMirror-gutter CodeMirror-linenumbers" style="">
        &nbsp;
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
 </div> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">So, this is our singleton class, which makes sure that only one object of the class gets created and, even if there are several requests, only the same instantiated object will be returned. The one problem with this approach is that the object will get created as soon as the class gets loaded into the JVM. If the object is never requested, there will be a useless object inside the memory. It’s always a good approach that an object should get created when it is required. So, we will create an object on the first call and then return the same object on successive calls. &nbsp;</p> 
 <div class="codeMirror-wrapper" style="color: #222635; font-family: Cambria, serif; font-size: 19px;"> 
  <div style=""> 
   <div class="codeHeader" style="padding: 0px 15px; font-family: sans-serif; font-size: 14px; background-color: #f7f7f7; color: #999999;"> 
    <div class="nameLanguage" style="">
     Java
    </div> 
   </div> 
   <div class="codeMirror-code--wrapper" style=""> 
    <div class="CodeMirror cm-s-default CodeMirror-wrap" style="border: none; font-family: monospace; color: black; overflow: hidden; font-size: 13px; clear: both; height: auto !important;"> 
     <div style="overflow: hidden; width: 3px; height: 0px;">
      &nbsp;
     </div> 
     <div class="CodeMirror-vscrollbar" style=""> 
      <div style="min-width: 1px; height: 422px;">
       &nbsp;
      </div> 
     </div> 
     <div class="CodeMirror-scroll" style=""> 
      <div class="CodeMirror-sizer" style=""> 
       <div style=""> 
        <div class="CodeMirror-lines" style="padding: 4px 0px; cursor: text;"> 
         <div style=""> 
          <div class="CodeMirror-measure" style="width: 1437px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div class="CodeMirror-measure" style="width: 1437px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-cursors" style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-code" style=""> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              1
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">package</span> <span class="cm-def" style="color: #0000ff;">com</span>.<span class="cm-variable" style="">singleton</span>.<span class="cm-variable" style="">demonstration</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              2
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              3
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              4
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">class</span> <span class="cm-def" style="color: #0000ff;">SingletonLazy</span> {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              5
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">private</span> <span class="cm-keyword" style="color: #770088;">static</span> <span class="cm-variable" style="">SingletonLazy</span> <span class="cm-variable" style="">sc</span> <span class="cm-operator" style="">=</span> <span class="cm-atom" style="color: #221199;">null</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              6
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              7
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              8
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">private</span> <span class="cm-variable" style="">SingletonLazy</span>() {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              9
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              10
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              11
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              12
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">static</span> <span class="cm-variable" style="">SingletonLazy</span> <span class="cm-variable" style="">getInstance</span>() {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              13
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">if</span> (<span class="cm-variable" style="">sc</span> <span class="cm-operator" style="">==</span> <span class="cm-atom" style="color: #221199;">null</span>) {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              14
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable" style="">sc</span> <span class="cm-operator" style="">=</span> <span class="cm-keyword" style="color: #770088;">new</span> <span class="cm-variable" style="">SingletonLazy</span>();</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              15
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              16
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">return</span> <span class="cm-variable" style="">sc</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              17
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              18
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div style="height: 13px; width: 1px; border-bottom: 0px solid transparent;">
       &nbsp;
      </div> 
      <div class="CodeMirror-gutters" style="border-right: 1px solid #dddddd; background-color: #f7f7f7; white-space: nowrap; height: 435px; width: 30px !important;"> 
       <div class="CodeMirror-gutter CodeMirror-linenumbers" style="">
        &nbsp;
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
 </div> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">In the&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">getInstance()</code>&nbsp;method, we check if the static variable&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">sc</code>&nbsp;is null, then instantiate the object and return it. So, on the first call when&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">sc</code>&nbsp;would be null, the object gets created and on successive calls it will return the same object. This surely looks good, doesn’t it? But this code will fail in a multi-threaded environment. Imagine two threads concurrently accessing the class, thread t1 gives the first call to the&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">getInstance()</code>method, it checks if the static variable&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">sc</code>&nbsp;is null, and then gets interrupted. Another thread (t2) calls the&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">getInstance()</code>&nbsp;method, successfully passes the&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">if</code>&nbsp;check, and instantiates the object. Then, thread t1 gets awoken and it also creates the object.</p> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">At this time, we have two objects of this class. To avoid this, we will use the synchronized keyword with the&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">getInstance()</code>&nbsp;method. In this way, we force every thread to wait its turn before it can enter the method. So, no two threads will enter the method at the same time. The synchronized comes with a price, it will decrease the performance, but if the call to the&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">getInstance()</code>&nbsp;method isn’t causing a substantial overhead for your application, forget about it. The other workaround is to move to an eager instantiation approach as shown in the previous example.&nbsp;</p> 
 <div class="codeMirror-wrapper" style="color: #222635; font-family: Cambria, serif; font-size: 19px;"> 
  <div style=""> 
   <div class="codeHeader" style="padding: 0px 15px; font-family: sans-serif; font-size: 14px; background-color: #f7f7f7; color: #999999;"> 
    <div class="nameLanguage" style="">
     Java
    </div> 
   </div> 
   <div class="codeMirror-code--wrapper" style=""> 
    <div class="CodeMirror cm-s-default CodeMirror-wrap" style="border: none; font-family: monospace; color: black; overflow: hidden; font-size: 13px; clear: both; height: auto !important;"> 
     <div style="overflow: hidden; width: 3px; height: 0px;">
      &nbsp;
     </div> 
     <div class="CodeMirror-vscrollbar" style=""> 
      <div style="min-width: 1px; height: 422px;">
       &nbsp;
      </div> 
     </div> 
     <div class="CodeMirror-scroll" style=""> 
      <div class="CodeMirror-sizer" style=""> 
       <div style=""> 
        <div class="CodeMirror-lines" style="padding: 4px 0px; cursor: text;"> 
         <div style=""> 
          <div class="CodeMirror-measure" style="width: 1437px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div class="CodeMirror-measure" style="width: 1437px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-cursors" style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-code" style=""> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              1
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">package</span> <span class="cm-def" style="color: #0000ff;">com</span>.<span class="cm-variable" style="">singleton</span>.<span class="cm-variable" style="">demonstration</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              2
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              3
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              4
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">class</span> <span class="cm-def" style="color: #0000ff;">SingletonLazyMultithreaded</span> {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              5
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">private</span> <span class="cm-keyword" style="color: #770088;">static</span> <span class="cm-variable" style="">SingletonLazyMultithreaded</span> <span class="cm-variable" style="">sc</span> <span class="cm-operator" style="">=</span> <span class="cm-atom" style="color: #221199;">null</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              6
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              7
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              8
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">private</span> <span class="cm-variable" style="">SingletonLazyMultithreaded</span>() {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              9
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              10
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              11
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              12
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">static</span> <span class="cm-keyword" style="color: #770088;">synchronized</span> <span class="cm-variable" style="">SingletonLazyMultithreaded</span> <span class="cm-variable" style="">getInstance</span>() {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              13
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">if</span> (<span class="cm-variable" style="">sc</span> <span class="cm-operator" style="">==</span> <span class="cm-atom" style="color: #221199;">null</span>) {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              14
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable" style="">sc</span> <span class="cm-operator" style="">=</span> <span class="cm-keyword" style="color: #770088;">new</span> <span class="cm-variable" style="">SingletonLazyMultithreaded</span>();</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              15
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              16
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">return</span> <span class="cm-variable" style="">sc</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              17
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              18
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div style="height: 13px; width: 1px; border-bottom: 0px solid transparent;">
       &nbsp;
      </div> 
      <div class="CodeMirror-gutters" style="border-right: 1px solid #dddddd; background-color: #f7f7f7; white-space: nowrap; height: 435px; width: 30px !important;"> 
       <div class="CodeMirror-gutter CodeMirror-linenumbers" style="">
        &nbsp;
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
 </div> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">But if you want to use synchronization, there is another technique known as "double-checked locking" to reduce the use of synchronization. With the double-checked locking, we first check to see if an instance is created and, if not, then we synchronize it. This way, we only synchronize the first time.&nbsp;</p> 
 <div class="codeMirror-wrapper" style="color: #222635; font-family: Cambria, serif; font-size: 19px;"> 
  <div style=""> 
   <div class="codeHeader" style="padding: 0px 15px; font-family: sans-serif; font-size: 14px; background-color: #f7f7f7; color: #999999;"> 
    <div class="nameLanguage" style="">
     Java
    </div> 
   </div> 
   <div class="codeMirror-code--wrapper" style=""> 
    <div class="CodeMirror cm-s-default CodeMirror-wrap" style="border: none; font-family: monospace; color: black; overflow: hidden; font-size: 13px; clear: both; height: auto !important;"> 
     <div style="overflow: hidden; width: 3px; height: 0px;">
      &nbsp;
     </div> 
     <div class="CodeMirror-vscrollbar" style=""> 
      <div style="min-width: 1px; height: 560px;">
       &nbsp;
      </div> 
     </div> 
     <div class="CodeMirror-scroll" style=""> 
      <div class="CodeMirror-sizer" style=""> 
       <div style=""> 
        <div class="CodeMirror-lines" style="padding: 4px 0px; cursor: text;"> 
         <div style=""> 
          <div class="CodeMirror-measure" style="width: 1437px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div class="CodeMirror-measure" style="width: 1437px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-cursors" style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-code" style=""> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              1
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">package</span> <span class="cm-def" style="color: #0000ff;">com</span>.<span class="cm-variable" style="">singleton</span>.<span class="cm-variable" style="">demonstration</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              2
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              3
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              4
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">class</span> <span class="cm-def" style="color: #0000ff;">SingletonLazyDoubleCheck</span> {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              5
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">private</span> <span class="cm-keyword" style="color: #770088;">volatile</span> <span class="cm-keyword" style="color: #770088;">static</span> <span class="cm-variable" style="">SingletonLazyDoubleCheck</span> <span class="cm-variable" style="">sc</span> <span class="cm-operator" style="">=</span> <span class="cm-atom" style="color: #221199;">null</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              6
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              7
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              8
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">private</span> <span class="cm-variable" style="">SingletonLazyDoubleCheck</span>() {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              9
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              10
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              11
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              12
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">static</span> <span class="cm-variable" style="">SingletonLazyDoubleCheck</span> <span class="cm-variable" style="">getInstance</span>() {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              13
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">if</span> (<span class="cm-variable" style="">sc</span> <span class="cm-operator" style="">==</span> <span class="cm-atom" style="color: #221199;">null</span>) {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              14
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">synchronized</span> (<span class="cm-variable" style="">SingletonLazyDoubleCheck</span>.<span class="cm-keyword" style="color: #770088;">class</span>) {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              15
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">if</span> (<span class="cm-variable" style="">sc</span> <span class="cm-operator" style="">==</span> <span class="cm-atom" style="color: #221199;">null</span>) {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              16
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable" style="">sc</span> <span class="cm-operator" style="">=</span> <span class="cm-keyword" style="color: #770088;">new</span> <span class="cm-variable" style="">SingletonLazyDoubleCheck</span>();</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              17
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              18
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              19
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              20
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              21
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              22
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">return</span> <span class="cm-variable" style="">sc</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              23
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              24
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div style="height: 13px; width: 1px; border-bottom: 0px solid transparent;">
       &nbsp;
      </div> 
      <div class="CodeMirror-gutters" style="border-right: 1px solid #dddddd; background-color: #f7f7f7; white-space: nowrap; height: 573px; width: 30px !important;"> 
       <div class="CodeMirror-gutter CodeMirror-linenumbers" style="">
        &nbsp;
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
 </div> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">Apart from this, there are some other ways to break the singleton pattern.&nbsp;</p> 
 <ul style="margin-bottom: 10px; color: #222635; font-family: Cambria, serif; font-size: 19px;"> 
  <li style="padding-bottom: 8px;">If the class is serializable.</li> 
  <li style="padding-bottom: 8px;">If it’s clonable.</li> 
  <li style="padding-bottom: 8px;">If can be broken by reflection.</li> 
  <li style="padding-bottom: 8px;">If the class is loaded by multiple class loaders.</li> 
 </ul> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">The following example shows how you can protect your class from getting instantiated more than once.&nbsp;</p> 
 <div class="codeMirror-wrapper" style="color: #222635; font-family: Cambria, serif; font-size: 19px;"> 
  <div style=""> 
   <div class="codeHeader" style="padding: 0px 15px; font-family: sans-serif; font-size: 14px; background-color: #f7f7f7; color: #999999;"> 
    <div class="nameLanguage" style="">
     Java
    </div> 
   </div> 
   <div class="codeMirror-code--wrapper" style=""> 
    <div class="CodeMirror cm-s-default CodeMirror-wrap" style="border: none; font-family: monospace; color: black; overflow: hidden; font-size: 13px; clear: both; height: auto !important;"> 
     <div style="overflow: hidden; width: 3px; height: 0px;">
      &nbsp;
     </div> 
     <div class="CodeMirror-vscrollbar" style=""> 
      <div style="min-width: 1px; height: 1089px;">
       &nbsp;
      </div> 
     </div> 
     <div class="CodeMirror-scroll" style=""> 
      <div class="CodeMirror-sizer" style=""> 
       <div style=""> 
        <div class="CodeMirror-lines" style="padding: 4px 0px; cursor: text;"> 
         <div style=""> 
          <div class="CodeMirror-measure" style="width: 1437px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div class="CodeMirror-measure" style="width: 1437px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-cursors" style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-code" style=""> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              1
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">package</span> <span class="cm-def" style="color: #0000ff;">com</span>.<span class="cm-variable" style="">singleton</span>.<span class="cm-variable" style="">demonstration</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              2
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">import</span> <span class="cm-variable" style="">java</span>.<span class="cm-variable" style="">io</span>.<span class="cm-variable" style="">ObjectStreamException</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              3
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">import</span> <span class="cm-variable" style="">java</span>.<span class="cm-variable" style="">io</span>.<span class="cm-variable" style="">Serializable</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              4
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              5
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              6
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">class</span> <span class="cm-def" style="color: #0000ff;">Singleton</span> <span class="cm-keyword" style="color: #770088;">implements</span> <span class="cm-variable" style="">Serializable</span> {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              7
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">private</span> <span class="cm-keyword" style="color: #770088;">static</span> <span class="cm-keyword" style="color: #770088;">final</span> <span class="cm-type" style="color: #008855;">long</span> <span class="cm-variable" style="">serialVersionUID</span> <span class="cm-operator" style="">=</span> <span class="cm-operator" style="">-</span><span class="cm-number" style="color: #116644;">1093810940935189395L</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              8
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">private</span> <span class="cm-keyword" style="color: #770088;">static</span> <span class="cm-variable" style="">Singleton</span> <span class="cm-variable" style="">sc</span> <span class="cm-operator" style="">=</span> <span class="cm-keyword" style="color: #770088;">new</span> <span class="cm-variable" style="">Singleton</span>();</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              9
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              10
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              11
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">private</span> <span class="cm-variable" style="">Singleton</span>() {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              12
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">if</span> (<span class="cm-variable" style="">sc</span> <span class="cm-operator" style="">!=</span> <span class="cm-atom" style="color: #221199;">null</span>) {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              13
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">throw</span> <span class="cm-keyword" style="color: #770088;">new</span> <span class="cm-variable" style="">IllegalStateException</span>(<span class="cm-string" style="color: #aa1111;">"Already created."</span>);</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              14
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              15
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              16
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              17
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              18
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">static</span> <span class="cm-variable" style="">Singleton</span> <span class="cm-variable" style="">getInstance</span>() {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              19
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">return</span> <span class="cm-variable" style="">sc</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              20
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              21
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              22
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              23
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">private</span> <span class="cm-type" style="color: #008855;">Object</span> <span class="cm-variable" style="">readResolve</span>() <span class="cm-keyword" style="color: #770088;">throws</span> <span class="cm-variable" style="">ObjectStreamException</span> {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              24
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">return</span> <span class="cm-variable" style="">sc</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              25
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              26
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              27
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              28
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">private</span> <span class="cm-type" style="color: #008855;">Object</span> <span class="cm-variable" style="">writeReplace</span>() <span class="cm-keyword" style="color: #770088;">throws</span> <span class="cm-variable" style="">ObjectStreamException</span> {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              29
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">return</span> <span class="cm-variable" style="">sc</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              30
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              31
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              32
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              33
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-type" style="color: #008855;">Object</span> <span class="cm-variable" style="">clone</span>() <span class="cm-keyword" style="color: #770088;">throws</span> <span class="cm-variable" style="">CloneNotSupportedException</span> {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              34
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">throw</span> <span class="cm-keyword" style="color: #770088;">new</span> <span class="cm-variable" style="">CloneNotSupportedException</span>(<span class="cm-string" style="color: #aa1111;">"Singleton, cannot be clonned"</span>);</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              35
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              36
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              37
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              38
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">private</span> <span class="cm-keyword" style="color: #770088;">static</span> <span class="cm-variable" style="">Class</span> <span class="cm-variable" style="">getClass</span>(<span class="cm-type" style="color: #008855;">String</span> <span class="cm-variable" style="">classname</span>) <span class="cm-keyword" style="color: #770088;">throws</span> <span class="cm-variable" style="">ClassNotFoundException</span> {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              39
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable" style="">ClassLoader</span> <span class="cm-variable" style="">classLoader</span> <span class="cm-operator" style="">=</span> <span class="cm-variable" style="">Thread</span>.<span class="cm-variable" style="">currentThread</span>().<span class="cm-variable" style="">getContextClassLoader</span>();</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              40
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">if</span> (<span class="cm-variable" style="">classLoader</span> <span class="cm-operator" style="">==</span> <span class="cm-atom" style="color: #221199;">null</span>)</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              41
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable" style="">classLoader</span> <span class="cm-operator" style="">=</span> <span class="cm-variable" style="">Singleton</span>.<span class="cm-keyword" style="color: #770088;">class</span>.<span class="cm-variable" style="">getClassLoader</span>();</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              42
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">return</span> (<span class="cm-variable" style="">classLoader</span>.<span class="cm-variable" style="">loadClass</span>(<span class="cm-variable" style="">classname</span>));</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              43
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              44
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              45
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              46
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              47
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div style="height: 13px; width: 1px; border-bottom: 0px solid transparent;">
       &nbsp;
      </div> 
      <div class="CodeMirror-gutters" style="border-right: 1px solid #dddddd; background-color: #f7f7f7; white-space: nowrap; height: 1102px; width: 30px !important;"> 
       <div class="CodeMirror-gutter CodeMirror-linenumbers" style="">
        &nbsp;
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
 </div> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">&nbsp;</p> 
 <ul style="margin-bottom: 10px; color: #222635; font-family: Cambria, serif; font-size: 19px;"> 
  <li style="padding-bottom: 8px;">Implement the&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">readResolve()</code>&nbsp;and&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">writeReplace()</code>&nbsp;methods in your singleton class and return the same object through them.</li> 
  <li style="padding-bottom: 8px;">You should also implement the&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">clone()</code>&nbsp;method and throw an exception so that the singleton cannot be cloned.</li> 
  <li style="padding-bottom: 8px;">An "if condition" inside the constructor can prevent the singleton from getting instantiated more than once using reflection.</li> 
  <li style="padding-bottom: 8px;">To prevent the singleton from getting instantiated from different class loaders, you can implement the&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">getClass()</code>&nbsp;method. The above&nbsp;<code style="font-family: Menlo, Monaco, Consolas, 'Courier New', monospace; font-size: 17.1px; padding: 2px 4px; color: #c7254e; background-color: #f9f2f4; white-space: nowrap; border-radius: 4px;">getClass()</code>&nbsp;method associates the classloader with the current thread; if that classloader is null, the method uses the same classloader that loaded the singleton class.</li> 
 </ul> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">Although we can use all these techniques, there is an easier way of creating a singleton class. As of JDK 1.5, you can create a singleton class using enums. The enum constants are implicitly static and final and you cannot change their values once created.&nbsp;</p> 
 <div class="codeMirror-wrapper newest" style="color: #222635; font-family: Cambria, serif; font-size: 19px;"> 
  <div style=""> 
   <div class="codeHeader" style="padding: 0px 15px; font-family: sans-serif; font-size: 14px; background-color: #f7f7f7; color: #999999;"> 
    <div class="nameLanguage" style="">
     Java
    </div> 
   </div> 
   <div class="codeMirror-code--wrapper" style=""> 
    <div class="CodeMirror cm-s-default CodeMirror-wrap" style="border: none; font-family: monospace; color: black; overflow: hidden; font-size: 13px; clear: both; height: auto !important;"> 
     <div style="overflow: hidden; width: 3px; height: 0px;">
      &nbsp;
     </div> 
     <div class="CodeMirror-scroll" style=""> 
      <div class="CodeMirror-sizer" style=""> 
       <div style=""> 
        <div class="CodeMirror-lines" style="padding: 4px 0px; cursor: text;"> 
         <div style=""> 
          <div class="CodeMirror-measure" style="width: 1454px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div class="CodeMirror-measure" style="width: 1454px; height: 0px; overflow: hidden;">
           &nbsp;
          </div> 
          <div style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-cursors" style="">
           &nbsp;
          </div> 
          <div class="CodeMirror-code" style=""> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              1
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">package</span> <span class="cm-def" style="color: #0000ff;">com</span>.<span class="cm-variable" style="">singleton</span>.<span class="cm-variable" style="">demonstration</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              2
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              3
             </div> 
            </div> 
            <pre class=" CodeMirror-line "></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              4
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">class</span> <span class="cm-def" style="color: #0000ff;">SingletoneEnum</span> {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              5
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-keyword" style="color: #770088;">public</span> <span class="cm-keyword" style="color: #770088;">enum</span> <span class="cm-def" style="color: #0000ff;">SingleEnum</span> {</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              6
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-variable" style="">SINGLETON_ENUM</span>;</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              7
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
           <div style=""> 
            <div class="CodeMirror-gutter-wrapper" style=""> 
             <div class="CodeMirror-linenumber CodeMirror-gutter-elt" style="width: 23px; padding: 0px 3px 0px 5px; min-width: 20px; text-align: right; color: #999999; white-space: nowrap; cursor: default;">
              8
             </div> 
            </div> 
            <pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre> 
           </div> 
          </div> 
         </div> 
        </div> 
       </div> 
      </div> 
      <div style="height: 13px; width: 1px; border-bottom: 0px solid transparent;">
       &nbsp;
      </div> 
      <div class="CodeMirror-gutters" style="border-right: 1px solid #dddddd; background-color: #f7f7f7; white-space: nowrap; height: 205px; width: 30px !important;"> 
       <div class="CodeMirror-gutter CodeMirror-linenumbers" style="">
        &nbsp;
       </div> 
      </div> 
     </div> 
    </div> 
   </div> 
  </div> 
 </div> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">You will get a compile-time error when you attempt to explicitly instantiate an enum object. As enum gets loaded statically, it is thread-safe. The clone method in enum is final, which ensures that enum constants never get cloned. Enum is inherently serializable, the serialization mechanism ensures that duplicate instances are never created as a result of deserialization. Instantiation using reflection is also prohibited. These things ensure that no instance of an enum exists beyond the one defined by the enum constants.&nbsp;</p> 
 <h2 style=""><strong style="">When to Use Singletons</strong></h2> 
 <ul style="margin-bottom: 10px; color: #222635; font-family: Cambria, serif; font-size: 19px;"> 
  <li style="padding-bottom: 8px;">There must be exactly one instance of a class, and it must be accessible to clients from a well-known access point.</li> 
  <li style="padding-bottom: 8px;">The sole instance is extensible by subclassing and clients can use an extended instance without modifying their code.</li> 
 </ul> 
 <h2 style=""><strong style="">Pros and Cons of Using Singletons</strong></h2> 
 <h3 style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 1.2; color: #222635; margin-top: 20px; margin-bottom: 5px; font-size: 25px; clear: both;"><strong style=""><strong style="">Pros</strong>&nbsp;</strong></h3> 
 <ul style="margin-bottom: 10px; color: #222635; font-family: Cambria, serif; font-size: 19px;"> 
  <li style="padding-bottom: 8px;">You can be sure that a class has only a single instance.</li> 
  <li style="padding-bottom: 8px;">You gain a global access point to that instance.</li> 
  <li style="padding-bottom: 8px;">The singleton object is initialized only when it’s requested for the first time.</li> 
 </ul> 
 <h3 style="font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; line-height: 1.2; color: #222635; margin-top: 20px; margin-bottom: 5px; font-size: 25px; clear: both;"> <strong style="">Cons</strong>&nbsp;</h3> 
 <ul style="margin-bottom: 10px; color: #222635; font-family: Cambria, serif; font-size: 19px;"> 
  <li style="padding-bottom: 8px;">Violates the<em style="">&nbsp;</em>Single Responsibility Principle<em style="">.</em>&nbsp;The pattern solves two problems at a time.</li> 
  <li style="padding-bottom: 8px;">The Singleton pattern can mask bad design, for instance, when the components of the program know too much about each other.</li> 
  <li style="padding-bottom: 8px;">The pattern requires special treatment in a multithreaded environment so that multiple threads won’t create a singleton object several times.</li> 
  <li style="padding-bottom: 8px;">It may be difficult to unit test the client code of the singleton because many test frameworks rely on inheritance when producing mock objects. Since the constructor of the singleton class is private and overriding static methods is impossible in most languages, you will need to think of a creative way to mock the singleton. Otherwise, just don’t write the tests or use the Singleton pattern.</li> 
 </ul> 
 <h2 style="">Conclusion</h2> 
 <p style="margin-top: 5px; margin-bottom: 15px; color: #222635; font-family: Cambria, serif; font-size: 19px;">In the above article, we have gone into detail about the singleton pattern and how to implement the singleton pattern along with a practical demonstration. Though the singleton pattern looks like a simple implementation, we should resist using it until and unless there is a strong requirement for it. You can blame the unpredictable nature of the results on the multi-threading environment. Though we can use enum in Java 5+, sometimes it's difficult to implement your logic in an enum or there might be legacy code before Java 5 you have to contend with.</p> 
</div>